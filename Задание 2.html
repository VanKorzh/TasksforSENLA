<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtmll/DTD/xhtmll-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
     <meta http-equiv=Content Type" content="text/html; charset=utf-8"/>
	 <title>Рисуем</title>
		<style type="text/css">
			*
			{
				margin:0;
				padding:0;
			}

			html, body 
			{ width:100%; height:100%; 
			}

			.wrap {
			  left: 15px;
			  top: 20px;
			  position: relative;
			}

			.picture {
			  position: absolute; 
			  top: 40px; 
			  left: 0px;
			}
		</style>	 
	 <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
	 <script type="text/javascript">
		function DrawBox() {
			var canvas = document.getElementById('myRectangle');
			 if (canvas.getContext) {
				var ctx = canvas.getContext('2d');
				var countRectangle = $("#count").val();
				var x0 = 0;
				var y0 = 0;
				var countRectangle = $("#count").val();
				var color = "#";
				
				canvas.width = document.documentElement.clientWidth;
				canvas.height = document.documentElement.clientHeight;							
				
				for (var i = 0; i < countRectangle; i++){
					x0 = 0;
					for (var j = 0; j < countRectangle; j++){
						color = "#";
						for (k = 0; k < 3; k++) {
							color += ("0" + (Math.random()*256|0).toString(16)).substr(-2);
						}
						ctx.fillStyle = color;
						ctx.fillRect(x0,y0,30,15);
						x0 = x0 + 40;
						}
					y0 = y0 + 20;	
					}
			}			
		}		
	</script>
   </head>
   <body>
		<div class="wrap">
		   <p><input type="text" id="count">
		   <input type="button" value="отправить" onclick="DrawBox()"></p>
		   <div class="picture">
				<canvas id="myRectangle"></canvas>
		   </div>
		</div>	
   </body>
</html>